<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="{{ url_for('static', filename='js/jquery-3.6.0.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/accessibility.js') }}"></script>
    <script src="{{ url_for('static', filename='js/exporting.js') }}"></script>
    <script src="{{ url_for('static', filename='js/highcharts.js') }}"></script>
    <!-- <script src="{{ url_for('static', filename='js/socket.io.min.js') }}"></script> -->
    <link
      rel="stylesheet" type="text/css"
      href="{{ url_for('static', filename='css/styledashboard.css')}}"
    />
    <title>THC</title>
  </head>
  <body>
    <div id="loading" class="loading-overlay" >
      <img src="{{ url_for('static', filename='images/loading.gif') }}" alt="Loading..."/>
    </div>
    <div class="wrapper">
      
      <nav id="navbar">
        <ul class="navbar-items flexbox-col">
          <li class="navbar-logo flexbox-left">
            <a class="navbar-item-inner flexbox" href="{{ url_for('index1') }}">
              <span class="logo"></span>
                <polygon points="925.79 318.48 830.56 0 183.51 1384.12 510.41 1178.46 925.79 318.48"/>
                <polygon points="1438.88 1663.28 1126.35 948.08 111.98 1586.26 0 1819.54 1020.91 1250.57 1123.78 1471.02 783.64 1663.28 1438.88 1663.28"/>
              </svg>
            </a>
          </li>
          <li class="navbar-item flexbox-left">
            <a class="navbar-item-inner flexbox-left" style="color: #fff;"  href="{{ url_for('dashboard_page') }}" >
              <div class="navbar-item-inner-icon-wrapper flexbox">
                <ion-icon name="search-outline"></ion-icon>
              </div>
              <span  class="link-text">üìä Dashboard Screw Force</span>
            </a>
          </li>
          <li class="navbar-item flexbox-left">
            <a class="navbar-item-inner flexbox-left">
              <div class="navbar-item-inner-icon-wrapper flexbox">
                <ion-icon name="home-outline"></ion-icon>
              </div>
              <span class="link-text">üè† M·ª•c B</span>
            </a>
          </li>
          <li class="navbar-item flexbox-left">
            <a class="navbar-item-inner flexbox-left">
              <div class="navbar-item-inner-icon-wrapper flexbox">
                <ion-icon name="folder-open-outline"></ion-icon>
              </div>
              <span class="link-text">‚ÑπÔ∏è M·ª•c C</span>
            </a>
          </li>
          <li class="navbar-item flexbox-left">
            <a class="navbar-item-inner flexbox-left">
              <div class="navbar-item-inner-icon-wrapper flexbox">
                <ion-icon name="pie-chart-outline"></ion-icon>
              </div>
              <span class="link-text">‚ú® M·ª•c D</span>
            </a>
          </li>
          <li class="navbar-item flexbox-left">
            <a class="navbar-item-inner flexbox-left">
              <div class="navbar-item-inner-icon-wrapper flexbox">
                <ion-icon name="people-outline"></ion-icon>
              </div>
              <span class="link-text">‚ú® M·ª•c E</span>
            </a>
          </li>
          <li class="navbar-item flexbox-left">
            <a class="navbar-item-inner flexbox-left">
              <div class="navbar-item-inner-icon-wrapper flexbox">
                <ion-icon name="chatbubbles-outline"></ion-icon>
              </div>
              <span class="link-text">‚ú® M·ª•c F</span>
            </a>
          </li>
          <li class="navbar-item flexbox-left">
            <a class="navbar-item-inner flexbox-left" href="{{ url_for('logout') }}">
              <div class="navbar-item-inner-icon-wrapper flexbox">
                <ion-icon name="settings-outline"></ion-icon>
              </div>
              <span style="color: #fff;" class="link-text">üîí Logout</span>
            </a>
          </li>
        </ul>
      </nav>
      
      <div class="container">
        
        <div  class="overlay-image" alt="overlay"></div>
        <header>
          <h2>DASHBOARD</h2>
        </header>
        <div class="mainContent">
          <div class="content">
            <h1 style="padding: 10px;">Infomation screw</h1>
            
            <div class="content-top">
              <div ><p class="infor">Total: <span style="color: #fff;" id="total-records"></p></div>
              <div ><p class="infor">Pass: <span style="color: rgb(2, 255, 158);" id="pass-records"></p></div>
              <div ><p class="infor">Fail: <span style="color: red;" id="fail-records"></p></div>
              <div ><p class="infor" >FPY: <span style="color: #fff;" id="fpy-percentage"></p></div>
              <div class="dowfile">
                <a id="download-excel"><span><img style="width: 20px; height: 20px; " src="{{ url_for('static', filename='images/downloads.png') }}"  alt="Expoprt File"></span></a>
              </div>
            </div>
            <div class="tbl-header">
              <table  cellpadding="0" cellspacing="0" border="0">
                <thead>
                  <tr>
                    <th>STT</th>
                    <th>FACTORY</th>
                    <th>LINE</th>
                    <th>NAME MACHINE</th>
                    <th>MODEL NAME</th>
                    <th>SERIAL NUMBER</th>
                    <th>FORCE 1</th>
                    <th>FORCE 2</th>
                    <th>FORCE 3</th>
                    <th>FORCE 4</th>
                    <th>TIME</th>
                    <th>STATE</th>
                  </tr>
                </thead>
              </table>
            </div>
            <div class="tbl-content">
              <table id="result-table" cellpadding="0" cellspacing="0" border="0">
                <tbody id="table-body">
                </tbody>
              </table>
            </div>
            <!-- filter -->
            <div class="filter">
              <!-- Line: <input style="width: 3em;" type="text" name="line" id="line"> -->
              Line:<select id="line-combobox">
                <!-- C√°c gi√° tr·ªã s·∫Ω ƒë∆∞·ª£c th√™m v√†o ƒë√¢y -->
            </select>
              Time: <input style="width: 180px;"  type="datetime-local" name="time_update" id="time_update">
              To: <input style="width: 180px;"  type="datetime-local" name="time_end" id="time_end">
              <!-- State: <input style="width: 3em;" type="text" name="state" id="state">           -->
              State: <select id="state-combobox">
                <!-- C√°c gi√° tr·ªã s·∫Ω ƒë∆∞·ª£c th√™m v√†o ƒë√¢y -->
            </select>
              <input style=" transition: all .5s ease-in-out; padding: 0.5em; width: 5em; " type="submit" value="Search" id="filter">
            </div>
            <div id="count"></div>
          </div>
          <div class="modeFullScreen">
            <a href="#" id="toggle_fullscreen">
              <img
                id="fullscreenic"
                src="/static/images/fullscreen1.png"
                alt="Fullscreen Icon"
              />
            </a>
          </div> 
          <div class="pagination"  id="pagination">
        </div>
        <script src="{{ url_for('static', filename='js/scripts.js') }}"></script>
        <div class="chartAll">
          <div class="chartContent">            
            <div class="pieChartInfo">
              <!-- <div><h4>Rate By Day</h4></div> -->
              <figure class="highcharts-figure">
                <div id="container-pie"></div>
              </figure>
              <button id="backButton" >Back</button>
              <script>
                // H√†m t·∫°o bi·ªÉu ƒë·ªì ban ƒë·∫ßu
                function createInitialChart() {
                  Highcharts.chart('container-pie', {
                    chart: {
                      plotBackgroundColor: null,
                      plotBorderWidth: 0,
                      plotShadow: false,
                      backgroundColor: null
                    },
                    title: {
                      text: 'Rate Pass/Fail',
                      align: 'center',
                      verticalAlign: 'middle',
                      y: 60,
                      style: {
                        fontSize: '1.1em',
                        color: '#fff'
                      }
                    },
                    tooltip: {
                      pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                    },
                    accessibility: {
                      point: {
                        valueSuffix: '%'
                      },
                      enabled: false
                    },
                    plotOptions: {
                      pie: {
                        dataLabels: {
                          enabled: true,
                          distance: -50,
                          style: {
                            fontWeight: 'bold',
                            color: 'white'
                          }
                        },
                        startAngle: -90,
                        endAngle: 90,
                        center: ['50%', '75%'],
                        size: '110%',
                        cursor: 'pointer', 
                        point: {
                          events: {
                            click: function () {
                              createNewChart(this.name);
                            }
                          }
                        }
                      }
                    },
                    series: [{
                      type: 'pie',
                      name: 'Rate',
                      innerSize: '50%',
                      data: [
                        { name: 'Pass', y: 65.3, color: '#3464eb' },
                        { name: 'Fail', y: 34.7, color: '#eb3434' }
                      ]
                    }],
                    credits: {
                      enabled: false
                    }
                  });
                  document.getElementById('backButton').style.display = 'none';
                }
                
                // H√†m t·∫°o bi·ªÉu ƒë·ªì m·ªõi
                function createNewChart(category) {
                  Highcharts.chart('container-pie', {
                    chart: {
                      type: 'column',
                      backgroundColor: null,
                      
                    },
                    title: {
                      text: `Details for ${category}`,
                      style: {
                        color: '#fff',
                        fontSize: '1em'
                      }
                    },
                    xAxis: {
                      categories: ['Day 1', 'Day 2', 'Day 3', 'Day 4', 'Day 5'],
                      labels: {
                        style: {
                          color: '#fff'
                        }
                      }
                    },
                    yAxis: {
                      labels: {
                        style: {
                          color: '#fff'
                        }
                      },
                      title: {
                        text: 'Count',
                        style: {
                          color: '#fff'
                        }
                      }
                    },
                    legend: {
                    itemStyle: {
                    color: '#ffffff'
                    }
                  },
                    series: [{
                      name: category,
                      data: category === 'Pass' ? [5, 10, 15, 20, 25] : [3, 8, 12, 18, 22],
                      color: category === 'Pass' ? '#3464eb' : '#eb3434'
                    }],
                    credits: {
                      enabled: false
                    }
                  });
                  document.getElementById('backButton').style.display = 'inline-block';
                }
                document.getElementById('backButton').addEventListener('click', function () {
                createInitialChart();
                });
                createInitialChart();
              </script>
            </div>
            <div class="chartRight">
              <div>
                
                <figure class="highcharts-figure">
                  <div id="container-line"></div>
                  <!-- <p class="highcharts-description">
                      Basic line chart showing trends in a dataset. 
                  </p> -->
              </figure>
              <script>
                Highcharts.chart('container-line', {
                  chart: {
                      zoomType: 'x',
                      backgroundColor: {
                          linearGradient: [0, 0, 500, 500],
                          stops: [
                              [0, 'rgba(32, 32, 32, 0.8)'],
                              [1, 'rgba(40, 40, 40, 0.8)']
                          ]
                      },
                      plotBorderWidth: 0,
                      backgroundColor: null
                  },
                  accessibility:{
                    enabled: false
                  },
                  credits: {
                enabled: false 
                },
                title: {
                    text: 'Title',
                    align: 'left',
                    style:{
                      color : '#fff'
                    }
                },

                subtitle: {
                    text: 'abc',
                    align: 'left', 
                    fontSize: '14px',
                    style:{
                      color : '#fff'
                    }
                },
                yAxis: {
                    title: {
                        text: 'OEE'
                    }
                },
                labels: {
                    style: {
                        color: '#ffffff' 
                    }
                  },

                legend: {
                    layout: 'horizontal',
                    align: 'center',
                    verticalAlign: 'bottom',
                    itemStyle: {
                    color: '#ffffff'
                },
                itemHoverStyle: {
                    color: '#cccccc'
                }
                },
                yAxis: {
                  title: {
                      text: 'OEE',
                      style: {
                          color: '#ffffff'
                      }
                  },
                  labels: {
                      style: {
                          color: '#ffffff'
                      }
                  }
              },
              xAxis: {
              categories: ['BV1', 'BV2', 'BV3', 'BV4', 'BV5', 'BV6', 'BV7', 'BV8', 'BV9', 'BV10', 'BV11', 'BV12', 'BV13'],
              labels: {
                  style: {
                      color: '#ffffff'
                  }
              }
          },
                series: [{
                    name: 'FORCE 1',
                    data: [
                        12, 13, 12, 15, 13, 11,
                        14, 13.5, 13.6, 13.4, 12.6, 14.7, 13.4
                    ]
                }, {
                    name: 'FORCE 2',
                    data: [
                        11, 12, 11, 14, 13, 12.3,
                        12, 15, 13, 13.4, 14.5, 13.6, 11.8
                    ]
                }
                , {
                    name: 'FORCE 3',
                    data: [
                        11.5, 12.3, 11.6, 14.1, 13.4, 12.3,
                        12.6, 11, 11.6, 12.4, 13.5, 13.6, 11.8
                    ]
                }, {
                    name: 'FORCE 4',
                    data: [
                        12.5, 13.6, 14.6, 12.2, 13.7, 12.3,
                        12.5, 15.6, 13.1, 13.6, 14.3, 13.9, 11.8
                    ]
                }],

                responsive: {
                    rules: [{
                        condition: {
                            maxWidth: 500
                        },
                        chartOptions: {
                            legend: {
                                layout: 'horizontal',
                                align: 'center',
                                verticalAlign: 'bottom'
                            }
                        }
                    }]
                }
                });
              </script>
              </div>
            </div>
          </div>
          <div class="chartCotent1">
            <div class="chartColumn">
                <figure class="highcharts-figure">
                  <div id="container3"></div>
                </figure>
                <script>
                  Highcharts.chart('container3', {
                    chart: {
                      zooming: {
                        type: 'x'
                      },
                      backgroundColor: null,
                      plotBackgroundColor:null
                    },
                    title: {
                      text: 'Screw Force Trend',
                      align: 'left',
                       style: {
                          color: '#fff', 
                          fontSize: '16px', 
                          fontWeight: 'bold'
                        }
                    },
                    credits: {
                      enabled: null
                    },
                  accessibility:{
                    enabled: false
                  },
                    xAxis: [{
                      categories: [
                        '7:00-8:00', '8:00-9:00', '9:00-10:00', '10:00-11:00', '11:00-12:00', '12:00-13:00',
                        '13:00-14:00', '14:00-15:00', '15:00-16:00', '16:00-17:00', '17:00-18:00', '18:00-19:00'
                      ],
                      crosshair: true,
                      labels: {
                        style: {
                          color: '#fff', 
                          fontSize: '12px'
                        }
                      }
                      
                    }],
                    yAxis: [{ 
                      labels: {
                        format: '{value}¬∞%',
                        style: {
                          color: '#fff'
                        }
                      },
                      title: {
                        text: 'FPY',
                        style: {
                          color: '#fff'
                        }
                      }
                    }, { 
                      title: {
                        text: 'Pass/Fail',
                        style: {
                          color: '#fff'
                        }
                      },
                      labels: {
                        format: '{value} %',
                        style: {
                          color: '#fff'
                        }
                      },
                      opposite: true
                    }],
                    tooltip: {
                      shared: true
                    },
                    legend: {
                      align: 'center',
                      verticalAlign: 'bottom',
                      itemStyle:{
                        color: '#fff'
                      },
                      itemHoverStyle: {
                      color: '#cccccc'
                    }
                    },
                    series: [{
                      name: 'Pass',
                      type: 'column',
                      yAxis: 1,
                      data: [
                        45.7, 37.0, 28.9, 17.1, 39.2, 18.9, 90.2, 78.5, 74.6,
                        18.7, 17.1, 16.0
                      ],
                      tooltip: {
                        valueSuffix: ' %'
                      }
                    }, {
                      name: 'Fail',
                      type: 'column',  
                      yAxis: 1,
                      data: [
                        54.3, 63.0, 71.1, 82.9, 60.8, 81.1, 9.8, 21.5, 25.4,
                        81.3, 82.9, 84.0
                      ],
                      tooltip: {
                        valueSuffix: ' %'
                      }
                    }, {
                      name: 'FPY',
                      type: 'spline', 
                      data: [
                        45.7, 37.0, 28.9, 17.1, 39.2, 18.9, 90.2, 78.5, 74.6,
                        18.7, 17.1, 16.0
                      ],
                      tooltip: {
                        valueSuffix: ' %'
                      }
                    }]
                  });
                </script>
              
            </div>
            <div class="chartColumn2">
              <figure class="highcharts-figure">
                <div id="container"></div>
              </figure>
              <script>
                Highcharts.chart('container', {
                  chart: {
                    type: 'line',
                    backgroundColor:null
                  },
                  
                  title: {
                    text: 'Chart CPK',
                    style:{
                      color:'#fff'
                    }
                  },
                  xAxis: {labels: {
                    style: {
                        color: '#ffffff' 
                    },
                    
                  },
                    title: {
                      text: 'Gi√° tr·ªã ƒëo l∆∞·ªùng',
                      style:{
                        color:'#fff'
                      },
                      
                    }
                  },
                  credits:{
                    enabled:null
                  },
                  yAxis: {
                    title: {
                      text: 'T·∫ßn su·∫•t',
                      style:{
                        color:'#fff'
                      }
                    },
                    labels: {
                    style: {
                        color: '#ffffff' 
                    }
                  },
                  },
                  series: [
                    {
                      type: 'line',
                      name: 'Histogram',
                      data: [7.7, 8, 10, 8.5, 9, 9.5, 8.2, 7.7, 10.6],
                      zIndex: 1
                    },
                    {
                      type: 'line',
                      name: 'UCL',
                      data: Array(9).fill(11), // Gi√° tr·ªã c·ªë ƒë·ªãnh UCL
                      dashStyle: 'Dash',
                      color: 'red',
                      zIndex: 2
                    },
                    {
                      type: 'line',
                      name: 'LCL',
                      data: Array(9).fill(7), // Gi√° tr·ªã c·ªë ƒë·ªãnh LCL
                      dashStyle: 'Dash',
                      color: 'blue',
                      zIndex: 2
                    },
                    {
                      type: 'line',
                      name: 'AVG',
                      data: Array(9).fill(9), // Gi√° tr·ªã trung b√¨nh
                      dashStyle: 'Dot',
                      color: 'green',
                      zIndex: 3
                    }
                  ]
                });
              </script>
            </div>
          </div>
          <div class="chartContent2">
            <div class="chart3">
              <h1>ABC</h1>
            </div>
            <div class="chart4">
              <h1>DEF</h1>
            </div>
          </div>
        </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
